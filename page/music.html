<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Music</title>
  <link href="music.css" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="../img/icon/Favicon.png">

<p>howler js test, sorry but the other features were removed since this page is for testing</p>
  <script language="javascript" src="howler.js"></script>
  <script>
  <script>
    var list = [
    '../sound/uwasotemperate.mp3',
    '../sound/hipshop.mp3',
    '../sound/wiisportstutorial.mp3'
]
//duration()
var i=0;

function autoplay(i, list) {
    this.howl = new Howl({
        src: [list[i]],
        preload: true,
        onend: function () {
            if ((i + 1) == list.length) {
                autoplay(0, list)
            } else {
                autoplay(i + 1, list)
            }
        }
    })
}

function skip() {

    const sound = this.howl.pause()._sounds[0];
    const currentSeek = sound._seek;
    const forwardTo = this.howl.duration()-0.01;
    console.log('skipping to ' + forwardTo + ' from ' + currentSeek);
    this.howl.seek(forwardTo);
    this.howl.play();
    }

function shuffle() {
  this.howl.pause();
  autoplay(randomnum(), list);
}

function randomnum() {
  console.log(list.length);
  return Math.floor(Math.random() * list.length);
}


function audiotoggle() {
  if (this.howl.playing()==true) {
    this.howl.pause()
  } else {
    this.howl.play()
  }
}

autoplay(0, list);


  </script>

<img src="../img/icon/forestbunny.gif" onclick="shuffle()">
<img src="../img/icon/dustbunny.gif" onclick="skip()">
<img src="../img/icon/forestbunny.gif" onclick="audiotoggle()">

</html>

<!--
</head>
      <ul class="navbar">
        <li><a class="white navbar reno" href="../index.html">Home</a></li>
        <li><a class="white navbar reno" href="games.html">Games</a></li>
        <li><a class="white reno" href="#">Music</a></li>
        <li><a class="white reno" href="#">Misc</a></li>
      </ul>



<body>
  <div class="main">
    <p class="white"><br><br><br>main text I think</p>

  </div>


  <div class="secondary">


  </div>


</body>
-->
<!--
  </div>
    <audio id="myAudio" src="sound/letsgettogethernow.mp3" autoplay preload="auto" loop ></audio>
    <img id="musictoggle" src="img/icon/bugbunny.webp" onClick="togglePlay()">
    <script>
      var myAudio = document.getElementById("myAudio");

      function togglePlay() {
        return myAudio.paused ? myAudio.play() : myAudio.pause();
      };

    </script>

  </div>
-->

</html>
